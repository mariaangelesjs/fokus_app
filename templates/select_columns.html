<html>

<head>
    <title>Create your unique prompt</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/style_other.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/select2.full.min.js"
        integrity="sha512-m7x59G4+NdYoUUKUscYq2qKkineVwmjXA/7WfXm8pukxYiFavrh9uFImpPtbmZGAnHR0rouVWWk+dgcHNurQ5g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="{{ url_for('static', filename='styles/select2.css') }}" rel="stylesheet" />
</head>

<body>
    <div class="container">
        <h1>Lag din unike forespørsel</h1>
        <h3> Du er kvalifisert som: </h3>
        <script>
            $(document).ready(function () {
                $("#table").hide();
                $("#button-table").click(function () {
                    $("#table").show();
                    return false;
                });

            });
        </script>
        <button class="button" id="button-table">Dine Fokus verdier</button>
        <table id="table">
            {% for table in tables %}
            {{ table|safe }}
            {% endfor %}
        </table>
        <br>
        <script>
            $(function () {
                $("select").select2({
                    templateResult: formatOption
                });

                function formatOption(option) {
                    var $option = $(
                        '<div><strong>' + option.text + '</strong></div><div>' + option.title + '</div>'
                    );
                    return $option;
                };
            });
        </script>
        <form action="{{url_for('prompt')}}" , method="POST">
            <label for="word_amount"
                class="d-grid gap-2 d-sm-flex justify-content-sm-center align-items-center my-3">Antall ord:</label>
            <br>
            <br>
            <select name="words">
                <option value="No_words">Velg hvor mange ord du ønsker å ha </option>
                <option value="100 ord">100 ord</option>
                <option value="300 ord">300 ord</option>
                <option value="500 ord">500 ord</option>
            </select>
            <br>
            <br>
            <label for="variable_name"
                class="d-grid gap-2 d-sm-flex justify-content-sm-center align-items-center my-3">Bas Fokus
                variabel:</label>
            <br>
            <br>
            <select name="variable" id="selected-variable">
                <option value="None">Velg variabel</option>
                {%for key,value in columns.items():%}
                <option style="color: black" value="{{ key }}" title="{{ value }}">{{ key }}</option>
                {% endfor %}
            </select>
            <span id="fokus-description">{{ value }}</span>
            <br>
            <br>
            <label for="product"
                class="d-grid gap-2 d-sm-flex justify-content-sm-center align-items-center my-3">Produktet du er
                interessert i:</label>
            <!-- <p class="lead mb-2">Could you please tell me your name?</p> -->
            <input type="text" class="form-control" id="product" name="product" style="max-width: 256px;">
            </td>
            <td>
                <br>
                <br>

                <form action="{{url_for('fokus_gpt')}}">
                    <script>
                        function thunderGif() {
                            document.getElementById("gif").src = "static/images/loading.gif"
                            //assuming thunder.gif animation length is 3 seconds
                        }
                    </script>
                    <input type="submit" id="button" value="Lag prompt" onclick="thunderGif()" />
                    <br>
                    <br>
                    <img id="gif" />
                </form>
            </td>
        </form>
    </div>
</body>

</html>